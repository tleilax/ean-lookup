(function(t){var r,i,e,n,a,s,o;return s=t(".thumbnails"),s.on("click","a.modal-image",function(){var r,i;return r=t(this).attr("href"),i=t(this).data().target,t(".modal-body img",i).attr("src",r),t(i).modal(),!1}),s.on("click",".close-trigger",function(){return t(this).closest("li").hide("slow"),!1}),i=s.find("li"),o=i.length,0!==o?(n=i.length,e=t('<div class="progress"><div class="bar" style="width:0%;"></div></div>').insertBefore(s),a=[],r=function(){var r,i,d;return n-=1,d=100*(1-n/o),t(".bar",e).css({width:""+d.toFixed(2)+"%"}),0===n?(r=0,i=100,a.sort(function(t,r){var i,e;return i=parseInt(r.data().resolution,10),e=parseInt(t.data().resolution,10),i-e}),e.remove(),t.each(a,function(){var t=this;return s.append(this),setTimeout(function(){return t.show("slide")},r),r+=i})):void 0},i.each(function(){var i,e,n;return e=new Image,n=t(".original-image",this).attr("href"),i=t(this).hide(),e.onload=function(){var e,n;return n=parseInt(this.width,10),e=parseInt(this.height,10),t(".dimensions",i).text(""+n+" x "+e),i.data("resolution",n*e),a.push(i),r()},e.onerror=r,e.src=n})):void 0})(jQuery);